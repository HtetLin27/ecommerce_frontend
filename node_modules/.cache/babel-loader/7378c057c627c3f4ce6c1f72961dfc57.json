{"ast":null,"code":"import _slicedToArray from\"F:/Ecommerce/ecommerce_frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var axios=require('axios');var emailRef=/*#__PURE__*/React.createRef();var passwordRef=/*#__PURE__*/React.createRef();var Login=function Login(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),message=_useState2[0],setMessage=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),check=_useState4[0],setCheck=_useState4[1];return/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 mt-5 offset-md-3 bg-dark p-5\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"pl-5\",children:\"Please Login\"}),check&&/*#__PURE__*/_jsxs(\"div\",{className:\"alert mt-4 alert-warning alert-dismissible fade show\",role:\"alert\",children:[message,/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"close\",\"data-dismiss\":\"alert\",\"aria-label\":\"Close\",children:/*#__PURE__*/_jsx(\"span\",{\"aria-hidden\":\"true\",children:\"\\xD7\"})})]}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"exampleInputEmail1\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",ref:emailRef,id:\"exampleInputEmail1\",\"aria-describedby\":\"emailHelp\",placeholder:\"Email\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"exampleInputEmail1\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",ref:passwordRef,id:\"exampleInputEmail1\",\"aria-describedby\":\"emailHelp\",placeholder:\"Password\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:function onClick(e){return sendData(e,setMessage,setCheck);},className:\"btn btn-primary\",children:\"Login\"})]})]});};function sendData(e,setMessage,setCheck){e.preventDefault();var dataValue={email:emailRef.current.value,password:passwordRef.current.value};console.log(dataValue);var formData=new FormData();formData.append(\"data\",JSON.stringify(dataValue));axios({url:'http://127.0.0.1:8000/login/',method:'post',data:formData}).then(function(response){setCheck(true);setMessage(response.data.message);if(response.data.status===true){localStorage.setItem(\"token\",123456);window.location.href='/admin/products';}});}export default Login;","map":{"version":3,"names":["React","useState","axios","require","emailRef","createRef","passwordRef","Login","message","setMessage","check","setCheck","e","sendData","preventDefault","dataValue","email","current","value","password","console","log","formData","FormData","append","JSON","stringify","url","method","data","then","response","status","localStorage","setItem","window","location","href"],"sources":["F:/Ecommerce/ecommerce_frontend/src/frontends/Login.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nconst axios =require('axios');\r\n\r\nlet emailRef = React.createRef();\r\nlet passwordRef =React.createRef();\r\nconst Login =()=>{\r\n    const [message,setMessage] =useState();\r\n    const [check,setCheck]  =useState(false);\r\n    return(\r\n        <div className=\"col-md-6 mt-5 offset-md-3 bg-dark p-5\">\r\n            <h2 className=\"pl-5\">Please Login</h2>\r\n{ check&&\r\n            <div className=\"alert mt-4 alert-warning alert-dismissible fade show\" role=\"alert\">\r\n              {message}\r\n  <button type=\"button\" className=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\r\n    <span aria-hidden=\"true\">&times;</span>\r\n  </button>\r\n</div>\r\n}\r\n            <form>\r\n\r\n  \r\n  <div className=\"form-group\">\r\n    <label for=\"exampleInputEmail1\">Email</label>\r\n    <input type=\"text\" className=\"form-control\" ref={emailRef} id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" placeholder=\"Email\"/>\r\n  </div>\r\n\r\n <div className=\"form-group\">\r\n    <label for=\"exampleInputEmail1\">Password</label>\r\n    <input type=\"text\" className=\"form-control\" ref={passwordRef} id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" placeholder=\"Password\"/>\r\n  </div>\r\n\r\n <br/><br/>\r\n  <button type=\"submit\" onClick={(e)=> sendData(e,setMessage,setCheck)} className=\"btn btn-primary\">Login</button>\r\n</form>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction sendData(e,setMessage,setCheck){\r\n    e.preventDefault();\r\n   let dataValue ={\r\n    email:emailRef.current.value,\r\n    password:passwordRef.current.value\r\n   }\r\n   console.log(dataValue)\r\n\r\n   \r\n   const formData = new FormData();\r\n   formData.append(\"data\",JSON.stringify(dataValue));\r\n   axios({\r\n    url:'http://127.0.0.1:8000/login/',\r\n    method:'post',\r\n    data:formData\r\n   }).then(function(response){\r\n    setCheck(true);\r\n  setMessage(response.data.message);\r\n  if(response.data.status === true){\r\n    localStorage.setItem(\"token\",123456);\r\n    window.location.href ='/admin/products';\r\n  }\r\n   })\r\n}\r\nexport default Login;"],"mappings":"qHAAA,MAAOA,MAAP,EAAgBC,QAAhB,KAAgC,OAAhC,C,wFACA,GAAMC,MAAK,CAAEC,OAAO,CAAC,OAAD,CAApB,CAEA,GAAIC,SAAQ,cAAGJ,KAAK,CAACK,SAAN,EAAf,CACA,GAAIC,YAAW,cAAEN,KAAK,CAACK,SAAN,EAAjB,CACA,GAAME,MAAK,CAAE,QAAPA,MAAO,EAAI,CACb,cAA4BN,QAAQ,EAApC,wCAAOO,OAAP,eAAeC,UAAf,eACA,eAAyBR,QAAQ,CAAC,KAAD,CAAjC,yCAAOS,KAAP,eAAaC,QAAb,eACA,mBACI,aAAK,SAAS,CAAC,uCAAf,wBACI,WAAI,SAAS,CAAC,MAAd,0BADJ,CAEND,KAAK,eACK,aAAK,SAAS,CAAC,sDAAf,CAAsE,IAAI,CAAC,OAA3E,WACGF,OADH,cAEV,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,OAAhC,CAAwC,eAAa,OAArD,CAA6D,aAAW,OAAxE,uBACE,aAAM,cAAY,MAAlB,kBADF,EAFU,GAHJ,cAUI,qCAGV,aAAK,SAAS,CAAC,YAAf,wBACE,cAAO,GAAG,CAAC,oBAAX,mBADF,cAEE,cAAO,IAAI,CAAC,MAAZ,CAAmB,SAAS,CAAC,cAA7B,CAA4C,GAAG,CAAEJ,QAAjD,CAA2D,EAAE,CAAC,oBAA9D,CAAmF,mBAAiB,WAApG,CAAgH,WAAW,CAAC,OAA5H,EAFF,GAHU,cAQX,aAAK,SAAS,CAAC,YAAf,wBACG,cAAO,GAAG,CAAC,oBAAX,sBADH,cAEG,cAAO,IAAI,CAAC,MAAZ,CAAmB,SAAS,CAAC,cAA7B,CAA4C,GAAG,CAAEE,WAAjD,CAA8D,EAAE,CAAC,oBAAjE,CAAsF,mBAAiB,WAAvG,CAAmH,WAAW,CAAC,UAA/H,EAFH,GARW,cAaX,aAbW,cAaN,aAbM,cAcV,eAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,CAAE,iBAACM,CAAD,QAAMC,SAAQ,CAACD,CAAD,CAAGH,UAAH,CAAcE,QAAd,CAAd,EAA/B,CAAsE,SAAS,CAAC,iBAAhF,mBAdU,GAVJ,GADJ,CA6BH,CAhCD,CAkCA,QAASE,SAAT,CAAkBD,CAAlB,CAAoBH,UAApB,CAA+BE,QAA/B,CAAwC,CACpCC,CAAC,CAACE,cAAF,GACD,GAAIC,UAAS,CAAE,CACdC,KAAK,CAACZ,QAAQ,CAACa,OAAT,CAAiBC,KADT,CAEdC,QAAQ,CAACb,WAAW,CAACW,OAAZ,CAAoBC,KAFf,CAAf,CAIAE,OAAO,CAACC,GAAR,CAAYN,SAAZ,EAGA,GAAMO,SAAQ,CAAG,GAAIC,SAAJ,EAAjB,CACAD,QAAQ,CAACE,MAAT,CAAgB,MAAhB,CAAuBC,IAAI,CAACC,SAAL,CAAeX,SAAf,CAAvB,EACAb,KAAK,CAAC,CACLyB,GAAG,CAAC,8BADC,CAELC,MAAM,CAAC,MAFF,CAGLC,IAAI,CAACP,QAHA,CAAD,CAAL,CAIGQ,IAJH,CAIQ,SAASC,QAAT,CAAkB,CACzBpB,QAAQ,CAAC,IAAD,CAAR,CACFF,UAAU,CAACsB,QAAQ,CAACF,IAAT,CAAcrB,OAAf,CAAV,CACA,GAAGuB,QAAQ,CAACF,IAAT,CAAcG,MAAd,GAAyB,IAA5B,CAAiC,CAC/BC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA6B,MAA7B,EACAC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAsB,iBAAtB,CACD,CACC,CAXD,EAYF,CACD,cAAe9B,MAAf"},"metadata":{},"sourceType":"module"}